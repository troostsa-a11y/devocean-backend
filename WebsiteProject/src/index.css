@tailwind base;
@tailwind components;
@tailwind utilities;

/* ------------------ Brand tokens ------------------ */
:root {
  --brand: #9e4b13;

  /* Sticky bars (fallback; JS refines --stack-h from #nav-stack) */
  --topbar-h: 40px;
  /* brown bar */
  --header-h: 56px;
  /* default nav height (mobile) */
  --stack-h: calc(var(--topbar-h) + var(--header-h));
  /* fallback used by anchors */
}

@media (min-width: 768px) {
  :root {
    --header-h: 64px;
    /* desktop header a touch taller */
    --stack-h: calc(var(--topbar-h) + var(--header-h));
  }
}

/* make in-page anchors stop below your fixed header stack (except home) */
section[id]:not(#home),
[id][data-anchor],
h1[id], h2[id], h3[id], h4[id] {
  scroll-margin-top: var(--stack-h) !important;
}

/* ------------------ Global interactions ------------------ */
a:hover {
  color: var(--brand);
}

a:focus-visible,
button:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible,
[data-select] button:focus-visible {
  outline: 2px solid var(--brand);
  outline-offset: 2px;
}

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
}

/* Body background - prevents white flash below header */
body {
  background-color: #f8fafc; /* slate-50 */
}

/* Home section should scroll to top (behind fixed headers) */
#home {
  scroll-margin-top: 0 !important;
}

/* ------------------ Topbar (brown) ------------------ */
.topbar {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 100;
  /* above all content */
}

.topbar a,
.topbar a:visited {
  color: #fff;
  transition: color .15s ease;
}

.topbar a:hover,
.topbar a:focus-visible {
  color: #f0ca30 !important;
}

.topbar a:active {
  color: #ffe082;
}

/* If any native <select> live in the topbar (your custom Select is separate) */
.topbar select {
  -webkit-appearance: none;
  appearance: none;
  background-color: transparent !important;
  color: #fff;
  border-color: rgba(255, 255, 255, .35);
  color-scheme: light;
  /* light popup on dark bar */
}

.topbar select option,
.topbar select optgroup {
  color: #fff;
  background-color: #9e4b13;
}

/* Firefox fallback */
@-moz-document url-prefix() {
  .topbar select {
    background-color: #fff;
    color: #111;
  }
}

/* ------------------ CTA buttons ------------------ */
a.btn-cta,
a.btn-cta:link,
a.btn-cta:visited {
  color: #fff;
}

a.btn-cta:hover,
button.btn-cta:hover {
  color: #f0ca30 !important;
  /* golden accent */
}

a.btn-secondary,
a.btn-secondary:link,
a.btn-secondary:visited {
  color: #fff;
}

a.btn-secondary:hover {
  color: #f0ca30 !important;
}

/* Donâ€™t let global link hover override CTAs */
a:hover:not(.btn-cta):not(.btn-secondary):not(.button):not([role="button"]) {
  color: var(--brand);
}

/* ------------------ Contact form sizing ------------------ */
@media (max-width: 360px) {
  .contact-form {
    margin-left: auto;
    margin-right: auto;
  }
}

/* Never allow horizontal scroll due to form fields */
html,
body {
  overflow-x: hidden;
}

.contact-form,
.contact-form * {
  max-width: 100%;
  box-sizing: border-box;
}

/* Hard cap on small phones */
@media (max-width: 640px) {
  .contact-form {
    width: min(90vw, 320px);
    margin-left: auto;
    margin-right: auto;
  }
}

/* Comfortable width from sm and up */
@media (min-width: 640px) {
  .contact-form {
    width: 100%;
    max-width: 32rem;
    /* sm:max-w-lg */
  }
}

/* ------------------ Utilities ------------------ */
/* Hide scrollbars for the custom Select list */
.no-scrollbar::-webkit-scrollbar {
  display: none;
}

.no-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* Brand mark image sizing (if used) */
.navbar-brand img {
  width: 40px;
  height: 40px;
  display: block;
}

/* reCAPTCHA v3 Badge Positioning & Compact State */
/* Fix for badge appearing off-screen (right: -186px issue) */
/* Compact state: 70px wide, expands to 256px on hover */
.grecaptcha-badge {
  width: 70px !important;
  overflow: hidden !important;
  transition: all 0.3s ease !important;
  right: 0 !important;
  bottom: 14px !important;
  z-index: 9999 !important;
}

.grecaptcha-badge:hover {
  width: 256px !important;
}